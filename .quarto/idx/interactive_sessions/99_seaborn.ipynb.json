{"title":"Seaborn üìà","markdown":{"yaml":{"title":"Seaborn üìà"},"headingText":"Seaborn `relplot()`","containsRefs":false,"markdown":"\n\n\n\n\n\n\n![seaborn](./assets/seaborn.png)\n\nThis session provides a brief introduction to the [<span class=\"codeb\">Seaborn</span>](https://seaborn.pydata.org) visualization library. \n\n<span class=\"code\">Seaborn</span> helps you explore and understand your data. Its plotting functions operate on dataframes and arrays containing whole datasets and internally perform the necessary semantic mapping and statistical aggregation to produce informative plots. Its dataset-oriented, declarative API lets you focus on what the different elements of your plots mean, rather than on the details of how to draw them.\n\nHere's an example of seaborne's capabilities.\n\n\n\nBehind the scenes, seaborn uses matplotlib to draw its plots. The plot above shows the relationship between five variables in the built-in `tips` dataset using a single call to the seaborn function `relplot()`. \n\n**Notice that you only need to provide the _names_ of the variables and their _roles_ in the plot.** \n\nThis interface is different from `matplotlib`, in that you do not need to specify attributes of the plot elements in terms of the color values or marker codes. \n\nBehind the scenes, seaborn handled the translation from values in the dataframe to arguments that matplotlib understands. This **declarative approach** lets you stay focused on the questions that you want to answer, rather than on the details of how to control matplotlib.\n\n\n\nThe function `relplot()` is named that way because it is designed to visualize many different statistical relationships. While scatter plots are often effective, relationships where one variable represents a measure of time are better represented by a line. The relplot() function has a convenient `kind` parameter that lets you easily switch to this alternate representation:\n\n\nIf you compare the two calls to `relplot()` in the two examples so far, you will see that the `size` and `style` parameters are used in both the scatter plots (first example) and line plots (second example). However, they affect the two visualizations differently.\n\nIn a scatter plot, the `size` and `style` arguments affect _marker area_ and _symbol_ representation.\n\nIn a line plot, the `size` and `style` arguments alter the _line width_ and _dashing_. \n\nAllowing the same arguments (syntax) to change meaning (semantics) across different contexts is more characteristic of natural languages than formal ones. In this case, `seaborn` is attempting to allow you to write in a [\"grammar of graphics\"](http://vita.had.co.nz/papers/layered-grammar.html), which is the same concept underlying ggplot created by Hadley Wickham. \n\nThe benefit of adopting this less formal specification is that you do not need to worry about as many syntax details and instead can focus more on the overall structure of the plot and the information you want it to convey.\n\n### Comparing `matplotlib` to `seaborn`\n\nA focus of today's activities is translation, so let's look at translating some of the examples from yesterday's `matplotlib` exercise into seaborn.\n\nFirst, as always, let's import our important packages:\n<div class=\"run\">\n    ‚ñ∂Ô∏è <b> Run the cell below. </b>\n</div>\n\n### Basic line plots (`sns.lineplot`)\n\nYesterday we used a few functions, $y_{\\sin} = \\sin{(x)}$ and $y_{\\cos} = \\cos{(x)}$:\n\n```python\n# Generate a 1D array with 300 points between -5 and 5\nx = np.linspace(-5,5,300)\n# Generate sine wave\nysin = np.sin(x)\n# Generate cosine wave\nycos = np.cos(x)\n\n# Now let's make a dataframe from these arrays:\ndf = pd.DataFrame({\n    'x': x,\n    'ysin': ysin,\n    'ycos': ycos\n    })\n```\n\nWe can plot these on the same figure without instancing `plt.figure()` as follows:\n\n```python\n# Plot sine wave\nplt.plot(x,ysin)\n# Plot cosine wave\nplt.plot(x,ycos)\n```\n\nSeaborn uses the `lineplot` command to plot line plots:\n```python\nsns.lineplot(data=df,x='x',y='ysin')\nsns.lineplot(data=df,x='x',y='ycos')\n```\n\n\n\nüìö Practice 2.\n1. Load the `flights` dataset using the `sns.load_dataset(\"flights\")` command. \n1. Explore the dataframe (it contains passenger data by month and year).\n1. Use `sns.lineplot()` to plot the number of passengers throughout the data set.\n1. Create a new dataset that contains data on a specific month (your choice) to see how monthly passengers have changed over time. \n1. Create a plot that shows the average and range of passengers by year. (Hint: This is much easier than it sounds in seaborn!)\n\n\n### Working with real data\n<hr style=\"border-top: 0.2px solid gray; margin-top: 12px; margin-bottom: 1px\"></hr>\n\nAs we learned in the previous exercise, working with real-world data usually complicates things, and plotting is no exception. In particular, working with time series can get a bit messy. Let's take a look at our BSRN data as an example.\n\n<div class=\"run\">\n    ‚ñ∂Ô∏è <b> Run the cell below. </b>\n</div>\n\nNow that we've imported our data, let's make a quick plot of incoming shortwave radiation over time.\n\n<div class=\"run\">\n    ‚ñ∂Ô∏è <b> Translate the cell below into seaborn. </b>\n</div>\n\nThe x-axis looks rather messy because the tick labels are *timestamps*, which are, by nature, very long. Luckily, <span class=\"code\">matplotlib</span> has a module called <span class=\"code\">dates</span> for dealing with `datetime` objects. \n\n<div class=\"run\">\n    ‚ñ∂Ô∏è <b> Run the cell below. </b>\n</div>\n\nWithout going into too much detail, we can use some of the more advanced `Axes` settings to format and rotate the tick labels such that they no longer overlap, and we can use <span class=\"code\">matplotlib.dates</span> to format the timestamps. In short, we will use the `mdates.DateFormatter()` function to format the timestamps according to [C formatting codes](https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior). \n\nThe following example demonstrates this, and includes a good code chunk for formatting timestamps to add to your repertoire. It is important to note that the formatting methods employed here are `Axes` methods, which means that we must operate on an `Axes` object, rather than the `Figure`.\n\n<div class=\"run\">\n    ‚ñ∂Ô∏è <b> Run the cell below. </b>\n</div>\n\n<div class=\"practice\">\n    üìö  <b> Practice 3. </b> \n    Plot temperature and relative humidity (ideally using subplots) over the month of October 2019 at the BSRN station. Be sure to format the timestamps and include axis labels, a title, and a legend, if necessary.\n</div>\n\n<hr style=\"border-top: 1px solid gray; margin-top: 24px; margin-bottom: 1px\"></hr>\n","srcMarkdownNoYaml":"\n\n\n\n\n\n\n![seaborn](./assets/seaborn.png)\n\nThis session provides a brief introduction to the [<span class=\"codeb\">Seaborn</span>](https://seaborn.pydata.org) visualization library. \n\n<span class=\"code\">Seaborn</span> helps you explore and understand your data. Its plotting functions operate on dataframes and arrays containing whole datasets and internally perform the necessary semantic mapping and statistical aggregation to produce informative plots. Its dataset-oriented, declarative API lets you focus on what the different elements of your plots mean, rather than on the details of how to draw them.\n\nHere's an example of seaborne's capabilities.\n\n\n\nBehind the scenes, seaborn uses matplotlib to draw its plots. The plot above shows the relationship between five variables in the built-in `tips` dataset using a single call to the seaborn function `relplot()`. \n\n**Notice that you only need to provide the _names_ of the variables and their _roles_ in the plot.** \n\nThis interface is different from `matplotlib`, in that you do not need to specify attributes of the plot elements in terms of the color values or marker codes. \n\nBehind the scenes, seaborn handled the translation from values in the dataframe to arguments that matplotlib understands. This **declarative approach** lets you stay focused on the questions that you want to answer, rather than on the details of how to control matplotlib.\n\n\n### Seaborn `relplot()`\n\nThe function `relplot()` is named that way because it is designed to visualize many different statistical relationships. While scatter plots are often effective, relationships where one variable represents a measure of time are better represented by a line. The relplot() function has a convenient `kind` parameter that lets you easily switch to this alternate representation:\n\n\nIf you compare the two calls to `relplot()` in the two examples so far, you will see that the `size` and `style` parameters are used in both the scatter plots (first example) and line plots (second example). However, they affect the two visualizations differently.\n\nIn a scatter plot, the `size` and `style` arguments affect _marker area_ and _symbol_ representation.\n\nIn a line plot, the `size` and `style` arguments alter the _line width_ and _dashing_. \n\nAllowing the same arguments (syntax) to change meaning (semantics) across different contexts is more characteristic of natural languages than formal ones. In this case, `seaborn` is attempting to allow you to write in a [\"grammar of graphics\"](http://vita.had.co.nz/papers/layered-grammar.html), which is the same concept underlying ggplot created by Hadley Wickham. \n\nThe benefit of adopting this less formal specification is that you do not need to worry about as many syntax details and instead can focus more on the overall structure of the plot and the information you want it to convey.\n\n### Comparing `matplotlib` to `seaborn`\n\nA focus of today's activities is translation, so let's look at translating some of the examples from yesterday's `matplotlib` exercise into seaborn.\n\nFirst, as always, let's import our important packages:\n<div class=\"run\">\n    ‚ñ∂Ô∏è <b> Run the cell below. </b>\n</div>\n\n### Basic line plots (`sns.lineplot`)\n\nYesterday we used a few functions, $y_{\\sin} = \\sin{(x)}$ and $y_{\\cos} = \\cos{(x)}$:\n\n```python\n# Generate a 1D array with 300 points between -5 and 5\nx = np.linspace(-5,5,300)\n# Generate sine wave\nysin = np.sin(x)\n# Generate cosine wave\nycos = np.cos(x)\n\n# Now let's make a dataframe from these arrays:\ndf = pd.DataFrame({\n    'x': x,\n    'ysin': ysin,\n    'ycos': ycos\n    })\n```\n\nWe can plot these on the same figure without instancing `plt.figure()` as follows:\n\n```python\n# Plot sine wave\nplt.plot(x,ysin)\n# Plot cosine wave\nplt.plot(x,ycos)\n```\n\nSeaborn uses the `lineplot` command to plot line plots:\n```python\nsns.lineplot(data=df,x='x',y='ysin')\nsns.lineplot(data=df,x='x',y='ycos')\n```\n\n\n\nüìö Practice 2.\n1. Load the `flights` dataset using the `sns.load_dataset(\"flights\")` command. \n1. Explore the dataframe (it contains passenger data by month and year).\n1. Use `sns.lineplot()` to plot the number of passengers throughout the data set.\n1. Create a new dataset that contains data on a specific month (your choice) to see how monthly passengers have changed over time. \n1. Create a plot that shows the average and range of passengers by year. (Hint: This is much easier than it sounds in seaborn!)\n\n\n### Working with real data\n<hr style=\"border-top: 0.2px solid gray; margin-top: 12px; margin-bottom: 1px\"></hr>\n\nAs we learned in the previous exercise, working with real-world data usually complicates things, and plotting is no exception. In particular, working with time series can get a bit messy. Let's take a look at our BSRN data as an example.\n\n<div class=\"run\">\n    ‚ñ∂Ô∏è <b> Run the cell below. </b>\n</div>\n\nNow that we've imported our data, let's make a quick plot of incoming shortwave radiation over time.\n\n<div class=\"run\">\n    ‚ñ∂Ô∏è <b> Translate the cell below into seaborn. </b>\n</div>\n\nThe x-axis looks rather messy because the tick labels are *timestamps*, which are, by nature, very long. Luckily, <span class=\"code\">matplotlib</span> has a module called <span class=\"code\">dates</span> for dealing with `datetime` objects. \n\n<div class=\"run\">\n    ‚ñ∂Ô∏è <b> Run the cell below. </b>\n</div>\n\nWithout going into too much detail, we can use some of the more advanced `Axes` settings to format and rotate the tick labels such that they no longer overlap, and we can use <span class=\"code\">matplotlib.dates</span> to format the timestamps. In short, we will use the `mdates.DateFormatter()` function to format the timestamps according to [C formatting codes](https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior). \n\nThe following example demonstrates this, and includes a good code chunk for formatting timestamps to add to your repertoire. It is important to note that the formatting methods employed here are `Axes` methods, which means that we must operate on an `Axes` object, rather than the `Figure`.\n\n<div class=\"run\">\n    ‚ñ∂Ô∏è <b> Run the cell below. </b>\n</div>\n\n<div class=\"practice\">\n    üìö  <b> Practice 3. </b> \n    Plot temperature and relative humidity (ideally using subplots) over the month of October 2019 at the BSRN station. Be sure to format the timestamps and include axis labels, a title, and a legend, if necessary.\n</div>\n\n<hr style=\"border-top: 1px solid gray; margin-top: 24px; margin-bottom: 1px\"></hr>\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":"auto","echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":false,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"jupyter"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","html-math-method":"katex","toc":true,"css":["styles/activities.css"],"include-before-body":["../header.html"],"output-file":"99_seaborn.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.361","toc-location":"left","title":"Seaborn üìà"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}